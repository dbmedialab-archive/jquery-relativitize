/*! jquery-relativitize - v0.2.0 - 2013-10-22 */
!function($){"use strict";var pub={init:function(options){return this.each(function(){var $this=$(this);$.isPlainObject($this.data("relativitize"))||($this.data("relativitize",$.extend({},$.fn.relativitize.defaults,options)),$this.data("relativitize").date=moment($this.attr("datetime")),$this.data("relativitize").originalText=$this.html(),void 0!==$this.attr("data-relativitize")&&(options=$this.attr("data-relativitize").split(";"),$.each(options,function(index,value){var p=value.split(":");p[0]=$.trim(p[0]),p[1]=$.trim(p[1]),/true/i.test(p[1])&&(p[1]=!0),/false/i.test(p[1])&&(p[1]=!1),isNaN(p[1]-0)||null===p[1]||""===p[1]||p[1]===!1||p[1]===!0||(p[1]=parseInt(p[1],10)),2===p.length&&p[0].length>0&&($this.data("relativitize")[p[0]]=p[1])})),$this.data("relativitize").toggle&&$this.on("click",function(event){event.preventDefault(),pub.toggle.apply($this)}),$this.data("relativitize").interval=setInterval(function(){pub.update.apply($this)},$this.data("relativitize").refresh)),pub.update.apply($this)})},update:function(){return this.each(function(){var $this=$(this),data=$this.data("relativitize");moment().subtract(data.gt.key,data.gt.time).diff(data.date)<0?(data.relative?priv.relative.apply($this):priv.format.apply($this),$this.addClass(data.toggleClass)):(priv.format.apply($this),$this.removeClass(data.toggleClass)),data.relative?moment().subtract(data.gt.key,data.gt.time).diff(data.date)<0?priv.relative.apply($this):priv.format.apply($this):priv.format.apply($this)})},toggle:function(){return this.each(function(){var $this=$(this);$this.data("relativitize").relative=!$this.data("relativitize").relative,pub.update.apply($this)})},destroy:function(){return this.each(function(){var $this=$(this),data=$this.data("relativitize");clearInterval(data.interval),data.toggle&&$this.off("click"),$this.html(data.originalText),$this.removeData("relativitize")})}},priv={relative:function(){var $this=$(this),data=$this.data("relativitize");$this.html(data.date.fromNow())},format:function(){var $this=$(this),data=$this.data("relativitize");data.format?$this.html(data.date.format(data.format)):$this.html(data.originalText)}};$.fn.relativitize=function(method){return pub[method]?pub[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?(console.warn("jQuery relativitize: Method "+method+" does not exist on jQuery.myplugin"),void 0):pub.init.apply(this,arguments)},$.fn.relativitize.defaults={toggle:!0,toggleClass:"relativitize",format:moment.defaultFormat,refresh:1e4,relative:!0,gt:{key:"days",time:1}},$("time[data-relativitize]").relativitize()}(jQuery);
//# sourceMappingURL=jquery-relativitize.sourcemap.js